import time


def quest_1():
    print("Завдання 1: Збір ресурсів")
    print("Артем опиняється в густому лісі, де йому потрібно знайти їжу та воду для виживання.")
    print("Вам потрібно знайти три види їстівних ягід і джерело води, а також зібрати цілющі трави.")
    response = input("Які ягоди ви оберете для їжі? (червоні, чорні, жовті): ").strip().lower()
    
    if response in ["червоні", "чорні", "жовті"]:
        print("Ви знайшли їстівні ягоди та джерело води. Ваша подорож триває.")
        quest_2()
    else:
        print("Невірний вибір ягід, ви отруїлися й програли.")
        retry()

def quest_2():
    print("\nЗавдання 2: Нічні звуки")
    print("Уночі ліс наповнюється дивними звуками, і Артем повинен знайти укриття і розпалити вогонь.")
    response = input("Що ви оберете для розпалювання вогню? (сухі гілки, вологий мох): ").strip().lower()
    
    if response == "сухі гілки":
        print("Ви успішно розпалили вогонь та створили укриття.")
        quest_3()
    else:
        print("Ви не змогли розпалити вогонь і програли.")
        retry()

def quest_3():
    print("\nЗавдання 3: Небезпечні істоти")
    print("Наступного ранку Артем стикається з голодною вовчицею.")
    response = input("Що ви зробите? (кинути камінь, захищатися палицею): ").strip().lower()
    
    if response == "кинути камінь":
        print("Ви вдало відволікли вовчицю і продовжили свій шлях.")
        quest_4()
    elif response == "захищатися палицею":
        print("Вам вдалося відбитися від вовчиці, і ви продовжуєте далі.")
        quest_4()
    else:
        print("Ви не змогли ухвалити правильне рішення й програли.")
        retry()

def quest_4():
    print("\nЗавдання 4: Міст через річку")
    print("Артем знаходить річку, яку потрібно перетнути, але міст зруйнований.")
    response = input("Що ви зробите? (будувати міст, побудувати пліт): ").strip().lower()
    
    if response in ["будувати міст", "побудувати пліт"]:
        print("Ви успішно переправилися через річку.")
        quest_5()
    else:
        print("Ви не змогли переправитися через річку й програли.")
        retry()

def quest_5():
    print("\nЗавдання 5: Лабіринт зілля")
    print("Артем натрапляє на магічні рослини. Потрібно знайти безпечний шлях через лабіринт.")
    response = input("Як ви уникнете небезпечних рослин? (спостерігати за природними знаками, йти прямо): ").strip().lower()
    
    if response == "спостерігати за природними знаками":
        print("Ви обрали правильний шлях і минули лабіринт.")
        quest_6()
    else:
        print("Ви потрапили в пастку магічних рослин й програли.")
        retry()

def quest_6():
    print("\nЗавдання 6: Останнє випробування")
    print("Артем знаходить артефакт, але магічний дух лісу пропонує йому загадки.")
    
    answers = {"коріння, але не росте": "дерево", "летить без крил": "час", "завжди йде, але ніколи не приходить": "завтра"}
    correct = 0
    
    for question, answer in answers.items():
        response = input(f"Що має {question}? ").strip().lower()
        if response == answer:
            print("Правильно!")
            correct += 1
        else:
            print("Неправильна відповідь.")
    
    if correct == 3:
        print("Ви відповіли на всі загадки правильно та здобули артефакт!")
        end_game()
    else:
        print("Ви не змогли відповісти на всі загадки правильно й програли.")
        retry()

def end_game():
    print("\nВітаємо! Артем здобув артефакт та врятував королівство.")
    print("Дякуємо за гру!")
    exit()

def retry():
    response = input("Бажаєте спробувати ще раз? (так/ні): ").strip().lower()
    if response == "так":
        start_game()
    else:
        print("Дякуємо за гру!")
        exit()

print("Ласкаво просимо до квесту 'Виживання в Лісі Тіней'!")
print("Лицар Артем вирушає в Ліс Тіней у пошуках легендарного артефакту.")
input("Натисніть Enter, щоб розпочати свою подорож...\n")
quest_1()
